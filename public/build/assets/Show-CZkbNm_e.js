import{W as n,r as w,j as e,Y as S,a as T}from"./app-BTj_347B.js";import{A as y,S as F,a as R,H as k,b as z,c as I,d as E,f as $,g as H,h as _,i as B,j as q,k as O,l as P}from"./AuthenticatedLayout-NJTE9xU0.js";import{u as U,C as W,a as Y,b as G,c as J,d as K,B as t,f as L}from"./button-C1A8E7Jk.js";function X({recipe:s}){var c,h,x;const{submit:m}=n(),[o,l]=w.useState(s.is_favorite),{post:p}=n({recipe_id:s.id}),{delete:v}=n(),{toast:d}=U(),f=()=>{m("delete",route("recipes.destroy",{recipe:s.id}),{onSuccess:i=>{d({title:"Success",description:"Recipe deleted.",duration:1e3})},onError:({message:i})=>{d({variant:"destructive",title:"Uh oh! Something went wrong.",description:i})}})},C=()=>{l(!0),p(route("favorite-recipes.store"))},N=()=>{l(!1),v(route("favorite-recipes.destroy",{favorite_recipe:s.id}))},b=()=>{var j,u,g;const i=(j=s.ingredients)==null?void 0:j.map(r=>r.description).join(`
`),a=(u=s.instructions)==null?void 0:u.map(r=>r.description).join(`
`),A=(g=s.tags)==null?void 0:g.map(r=>r.name).join(`
`),D={title:`Check out this recipe: ${s.title}`,text:`Ingredients:
${i}

Instructions:
${a}

Tags: ${A}

Servings: ${s.servings}`,url:window.location.href};navigator.share(D).then(()=>{console.log("Recipe shared successfully")}).catch(r=>{console.error("Error sharing recipe:",r)})};return e.jsxs(y,{children:[e.jsx(S,{title:"Recipes"}),e.jsxs("div",{className:"container flex flex-col md:flex-col-reverse gap-2",children:[e.jsxs(W,{className:"w-full",children:[e.jsxs(Y,{children:[e.jsx(G,{children:s.title}),e.jsxs(J,{children:["Servings: ",s.servings]})]}),e.jsx(K,{children:e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"grid gap-3 shadow p-3 border rounded-xl",children:[e.jsx("h4",{className:"font-semibold",children:"Ingredients"}),(c=s.ingredients)==null?void 0:c.map((i,a)=>e.jsx("li",{children:i.description},a))]}),e.jsxs("div",{className:"grid gap-3 shadow p-3 border rounded-xl",children:[e.jsx("h4",{className:"font-semibold",children:"Instructions"}),(h=s.instructions)==null?void 0:h.map((i,a)=>e.jsx("li",{children:i.description},a))]}),e.jsxs("div",{className:"grid gap-3 shadow p-3 border rounded-xl",children:[e.jsx("h4",{className:"font-semibold",children:"Origin"}),e.jsx("p",{children:s.origin})]}),e.jsxs("div",{className:"grid gap-3 shadow p-3 border rounded-xl",children:[e.jsx("h4",{className:"font-semibold",children:"Tags"}),e.jsx("p",{children:(x=s.tags)==null?void 0:x.map(i=>i.name).join(", ")})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(t,{variant:"outline",onClick:b,children:[e.jsx(F,{className:"mr-2 size-4"})," Share"]}),e.jsx(t,{variant:"outline",asChild:!0,children:e.jsxs(T,{href:route("recipes.edit",{recipe:s.id}),children:[e.jsx(R,{className:"mr-2 size-4"})," Edit Recipe"]})}),e.jsx(t,{size:"icon",variant:"outline",onClick:o?N:C,children:e.jsx(k,{className:L("size-5",{"fill-red-600 stroke-0":o})})}),e.jsxs(z,{children:[e.jsx(I,{asChild:!0,children:e.jsx(t,{size:"icon",variant:"destructive",children:e.jsx(E,{className:"size-4"})})}),e.jsxs($,{children:[e.jsxs(H,{children:[e.jsx(_,{children:"Are you absolutely sure?"}),e.jsx(B,{children:"This action cannot be undone. This will permanently delete this recipe."})]}),e.jsxs(q,{children:[e.jsx(O,{children:"Cancel"}),e.jsx(P,{onClick:f,children:"Continue"})]})]})]})]})]})]})}export{X as default};
